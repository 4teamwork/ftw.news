<html xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      tal:omit-tag="python: 1"
      i18n:domain="ftw.news"
      tal:define="block_info view/get_block_info">

    <h2 tal:content="block_info/title"
        tal:condition="block_info/show_title">
    </h2>

    <tal:rss-url tal:define="rss_url block_info/rss_link_url">
        <div tal:condition="rss_url" class="documentByLine">
            <a tal:attributes="href rss_url" i18n:translate="">Subscribe to the RSS feed</a>
        </div>
    </tal:rss-url>

    <tal:news tal:define="news view/get_news;">

        <p tal:condition="not: news"
           i18n:translate="">No content available</p>

        <ul class="newsListing">

            <tal:loop repeat="item news">
                <li class="tileItem">
                    <div class="newsHeadline">
                        <a tal:attributes="href item/url"
                           tal:content="item/title">Link</a>
                    </div>
                    <div class="documentByLine">
                        <span tal:condition="item/news_date"
                              tal:content="item/news_date"/>
                        <tal:author condition="item/author">
                            <span i18n:translate="news_listing_author_label">
                                by
                                <span tal:content="item/author"
                                      i18n:name="author">Author</span>
                            </span>
                        </tal:author>
                    </div>

                    <div tal:condition="item/image_tag"
                         tal:content="structure item/image_tag"
                         class="image">
                    </div>

                    <p class="newsbody" tal:condition="item/description">
                        <span class="description"
                              tal:content="item/description">Description</span>
                    </p>
                    <p class="newsFooter" tal:condition="item/url">
                        <a tal:attributes="href item/url"
                           i18n:translate="">Read more</a>
                    </p>
                    <div class="visualClear"><!-- --></div>
            </tal:loop>

        </ul>

        <p tal:define="more_news_link_url block_info/more_news_link_url;
                       more_news_link_label block_info/more_news_link_label"
           tal:condition="more_news_link_url">
            <a class="newsMoreLink"
               title="More News"
               i18n:attributes="title more_news_link_label"
               tal:attributes="href more_news_link_url"
               tal:content="more_news_link_label"/>
        </p>

    </tal:news>

</html>
